---
title: "Curso de Introdu√ß√£o ao R"
author: 
date: "`r Sys.Date()`"
---


```{r setup, include = FALSE}
#library(shiny)
#install.packages("learner")
library(learner)
library(learnr)
library(tidyverse)
library(palmerpenguins)
#library(kableExtra)
library(fontawesome)
library(here)

knitr::opts_chunk$set(
echo = FALSE,
warning = FALSE,
message = FALSE)
```



# --- Configura√ß√£o para esconder resultados (Spoiler) ---
hook_output_padrao <- knitr::knit_hooks$get("output")

knitr::knit_hooks$set(output = function(x, options) {
  if (!is.null(options$spoiler) && options$spoiler) {
    # A MUDAN√áA EST√Å NA LINHA ABAIXO (style=...)
    paste0("<details><summary style='text-align: right; cursor: pointer; color: #006666; font-weight: italic;'> Run </summary>\n", 
           hook_output_padrao(x, options), 
           "\n</details>")
  } else {
    hook_output_padrao(x, options)
  }
})
```

# Objetivos da aula

Ao final desta aula, voc√™ dever√° ser capaz de:

* Entender o que √© o R e como ele funciona;
* Navegar entre diret√≥rios e arquivos;
* Executar opera√ß√µes matem√°ticas b√°sicas;
* Criar e manipular objetos no R;
* Reconhecer os principais tipos de dados;
* Escrever fun√ß√µes simples e usar estruturas de controle.

> üé® **Ilustra√ß√£o sugerida (Allison Horst):** *RStudio IDE Overview* ‚Äì √≥tima para apresentar o ambiente de trabalho.

---

# 1. Primeiros passos no R

## 1.1 Diret√≥rio de trabalho

O **diret√≥rio de trabalho** √© a pasta onde o R ir√° procurar arquivos e salvar resultados.


```{r paged.print=TRUE}
getwd()
```

Para listar os arquivos do diret√≥rio atual:

```{r}
dir()
list.files()
```

Para definir manualmente um diret√≥rio de trabalho:

```{r eval=FALSE, message=FALSE, warning=FALSE, include=FALSE}
setwd("/caminho/para/seu/diretorio")
```

> ‚ö†Ô∏è Dica did√°tica: prefira usar **Projetos do RStudio** para evitar problemas com caminhos.

---


## 1.2 Executando scripts R

Um arquivo com extens√£o `.R` pode ser executado com a fun√ß√£o `source()`:

```{r eval=FALSE, include=FALSE}
source("Aula_01.R")
```

Isso √© √∫til para organizar c√≥digos longos ou reutiliz√°veis.

---

# 2. O R como calculadora

O R funciona como uma calculadora poderosa:

```{r }

1 + 2

12 * 5

12 ^ 2

2 / 2

11 %% 3

sqrt(9)

```

### Opera√ß√µes vetoriais

No R, opera√ß√µes com vetores s√£o **vetorizadas** por padr√£o:

```{r}
2 * c(1, 2, 3, 4, 5)
2 + c(1, 2, 3, 4, 5)

# Entre vetores:

c(1, 3, 5, 7) * c(2, 4, 6, 8)
```




> üé® **Ilustra√ß√£o sugerida:** *Vector Recycling* ‚Äì para explicar reciclagem de vetores.

---

# 3. Objetos e vari√°veis

```{r}
#Criamos objetos usando `<-` (operador recomendado):

x <- 2
x
```

O R √© **case sensitive**:


```{r}
X <- 10
x
```

### Classes de objetos


```{r}
class(2)
class("texto")
class(TRUE)
class(2L)
```



---

# 4. Principais tipos de dados

## 4.1 Vetores




```{r}
x <- c(1, 2, 3, 4)
x
class(x)
```


```{r}
#Vetores l√≥gicos:

y <- c(TRUE, FALSE, T, F)
y

```



## 4.2 Fatores

Fatores representam vari√°veis categ√≥ricas:


```{r}
x <- factor(c("normal", "aten√ß√£o", "alerta", "inunda√ß√£o"))
x
table(x)
```


Fatores ordenados:


```{r}
y <- factor(x,
levels = c("normal", "aten√ß√£o", "alerta", "inunda√ß√£o"),
ordered = TRUE)
y
y <= "alerta"

```


> üé® **Ilustra√ß√£o sugerida:** *Factors Explained* ‚Äì excelente para evitar confus√µes comuns.

---

## 4.3 Coer√ß√£o de tipos


```{r}
as.numeric(TRUE)
as.character(10)
as.numeric(c("1", "2", "3"))
```


‚ö†Ô∏è Nem toda coer√ß√£o √© poss√≠vel:

```{r}
as.numeric(c("ola", "dia"))

```


---

# 5. Indexa√ß√£o


```{r}
x <- 11:20
x[1]
x[c(1, 3, 5)]
x[-2]
```



Indexa√ß√£o l√≥gica:

```{r}

x[x > 15]
```


---

# 6. Estruturas de dados

## 6.1 Matrizes

```{r}
m <- matrix(1:9, nrow = 3)
m
m[1, 2]
m[, 3]
```



## 6.2 Data frames

```{r}
DF <- data.frame(id = 1:3,
classe = c("A", "B", "C"))
DF
class(DF)

```


## 6.3 Listas

```{r}
x <- list(1, "texto", DF, TRUE)
x
x[[3]]
```



> üé® **Ilustra√ß√£o sugerida:** *Data Structures in R* (Allison Horst).

---

# 7. Fun√ß√µes

Fun√ß√µes s√£o blocos reutiliz√°veis de c√≥digo.

```{r}
area_ret <- function(lado1, lado2){
area <- lado1 * lado2
return(area)
}
```


```{r}
area_ret(5, 10)
```



---

# 8. Estruturas condicionais

```{r}
x <- 10
ifelse(x < 100,
"x √© menor que 100",
"x √© maior ou igual a 100")

```


Uso de `if` simples:

```{r}
x <- 3.7
if(class(x) != "integer"){
x <- as.integer(round(x))
}
x
```



---

# 9. Loops

## 9.1 Loop `for`

```{r}
for(i in 1:5){
print(i)
}
```



Aplica√ß√£o pr√°tica:

```{r}
vetor_lado1 <- c(10, 20, 30)
vetor_lado2 <- c(5, 10, 15)

for(i in 1:length(vetor_lado1)){
print(area_ret(vetor_lado1[i], vetor_lado2[i]))
}
```



## 9.2 Loop `while`


```{r}

i <- 0
while(i <= 5){
print(i)
i <- i + 1
}
```


---

# 10. Exerc√≠cios

1. Crie um vetor com os n√∫meros de 1 a 20 e selecione apenas os pares.
2. Crie uma fun√ß√£o que calcule a √°rea de um c√≠rculo.
3. Crie um `data.frame` com tr√™s colunas: ano, m√™s e vaz√£o.
4. Use um loop `for` para calcular a √°rea de v√°rios ret√¢ngulos.

---

# Pr√≥xima aula

‚û°Ô∏è **Aula 2 ‚Äì Obten√ß√£o de dados hidrol√≥gicos e webservices (ANA)**

Vamos aprender a:

* Ler arquivos externos;
* Acessar dados online;
* Trabalhar com datas;
* Criar fun√ß√µes aplicadas √† hidrologia.
